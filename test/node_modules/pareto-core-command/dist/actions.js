"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.assert = exports.if_ = exports.refine_stacked = exports.refine_without_error_transformation = exports.query_stacked = exports.query_without_error_transformation = exports.sequence = exports.nothing = exports.create_error_handling_context = exports.dictionary = exports.list = exports.fail = void 0;
const _pinternals = __importStar(require("pareto-core-internals"));
const create_command_promise_1 = require("./create_command_promise");
const sequence_1 = require("./sequence");
const fail = (error) => {
    return (0, create_command_promise_1.__create_command_promise)({
        'execute': (on_success, on_error) => {
            on_error(error);
        }
    });
};
exports.fail = fail;
var list;
(function (list) {
    list.parallel = (the_array, errors_aggregator) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                const errors_builder = _pinternals.create_asynchronous_list_builder();
                _pinternals.create_asynchronous_processes_monitor((monitor) => {
                    the_array.map(($) => {
                        monitor['report process started']();
                        $.__start(() => {
                            monitor['report process finished']();
                        }, (e) => {
                            errors_builder['add item'](e);
                            monitor['report process finished']();
                        });
                    });
                }, () => {
                    const errors = errors_builder['get list']();
                    if (errors.is_empty()) {
                        on_success();
                    }
                    else {
                        on_error(errors_aggregator(errors));
                    }
                });
            }
        });
    };
    list.serie = (array) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                let current = 0;
                const do_next = () => {
                    array.__get_element_at(current).transform(($) => {
                        current += 1;
                        $.__start(() => {
                            do_next();
                        }, on_error);
                    }, () => {
                        on_success();
                    });
                };
                do_next();
            }
        });
    };
})(list || (exports.list = list = {}));
var dictionary;
(function (dictionary_1) {
    dictionary_1.parallel = (dictionary, block, aggregate_errors) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                const errors_builder = _pinternals.create_asynchronous_dictionary_builder();
                _pinternals.create_asynchronous_processes_monitor((monitor) => {
                    dictionary.map(($, key) => {
                        monitor['report process started']();
                        (0, sequence_1.__sequence)(block($, key)).__start(() => {
                            monitor['report process finished']();
                        }, (e) => {
                            errors_builder['add entry'](key, e);
                            monitor['report process finished']();
                        });
                    });
                }, () => {
                    const errors = errors_builder['get dictionary']();
                    if (errors.is_empty()) {
                        on_success();
                    }
                    else {
                        on_error(aggregate_errors(errors));
                    }
                });
            }
        });
    };
    let deprecated_parallel;
    (function (deprecated_parallel) {
        deprecated_parallel.query = (staging_result, block, aggregate_errors) => {
            return (0, create_command_promise_1.__create_command_promise)({
                'execute': (on_success, on_error) => {
                    const errors_builder = _pinternals.create_asynchronous_dictionary_builder();
                    staging_result.__extract_data((dictionary) => {
                        _pinternals.create_asynchronous_processes_monitor((monitor) => {
                            dictionary.map(($, key) => {
                                monitor['report process started']();
                                (0, sequence_1.__sequence)(block($, key)).__start(() => {
                                    monitor['report process finished']();
                                }, (e) => {
                                    errors_builder['add entry'](key, e);
                                    monitor['report process finished']();
                                });
                            });
                        }, () => {
                            const errors = errors_builder['get dictionary']();
                            if (errors.is_empty()) {
                                on_success();
                            }
                            else {
                                on_error(aggregate_errors(errors));
                            }
                        });
                    }, on_error);
                }
            });
        };
    })(deprecated_parallel = dictionary_1.deprecated_parallel || (dictionary_1.deprecated_parallel = {}));
    // export const serie = <Error, Entry_Error>(
    //     dictionary: _pi.Dictionary<_pi.Command_Promise<Entry_Error>>,
    //     error_transformer: ($: Entry_Error, key: string) => Error,
    // ): _pi.Command_Promise<Error> => {
    //     return __create_command_promise({
    //         'execute': (on_success, on_error) => {
    //             const as_list = dictionary.to_list(($, key) => ({
    //                 'key': key,
    //                 'value': $,
    //             }))
    //             let current = 0
    //             const do_next = () => {
    //                 as_list.__get_element_at(current).transform(
    //                     ($) => {
    //                         const key = $.key
    //                         current += 1
    //                         $.value.__start(
    //                             () => {
    //                                 do_next()
    //                             },
    //                             ($) => {
    //                                 on_error(error_transformer($, key))
    //                             }
    //                         )
    //                     },
    //                     () => {
    //                         on_success()
    //                     }
    //                 )
    //             }
    //             do_next()
    //         }
    //     })
    // }
    // export const deprecated_parallel_without_transforming_the_error = <Error, Entry_Error>(
    //     dictionary: _pi.Dictionary<_pi.Command_Promise<Entry_Error>>,
    // ): _pi.Command_Promise<_pi.Dictionary<Entry_Error>> => {
    //     return __create_command_promise({
    //         'execute': (
    //             on_success,
    //             on_error,
    //         ) => {
    //             const errors_builder = _pinternals.create_asynchronous_dictionary_builder<Entry_Error>()
    //             _pinternals.create_asynchronous_processes_monitor(
    //                 (monitor) => {
    //                     dictionary.map(($, key) => {
    //                         monitor['report process started']()
    //                         $.__start(
    //                             () => {
    //                                 monitor['report process finished']()
    //                             },
    //                             (e) => {
    //                                 errors_builder['add entry'](key, e)
    //                                 monitor['report process finished']()
    //                             }
    //                         )
    //                     })
    //                 },
    //                 () => {
    //                     const errors = errors_builder['get dictionary']()
    //                     if (errors.is_empty()) {
    //                         on_success()
    //                     } else {
    //                         on_error(errors)
    //                     }
    //                 }
    //             )
    //         }
    //     })
    // }
})(dictionary || (exports.dictionary = dictionary = {}));
const create_error_handling_context = (command_block, processor, new_error) => {
    return (0, create_command_promise_1.__create_command_promise)({
        'execute': (on_success, on_error) => {
            (0, sequence_1.__sequence)(command_block).__start(on_success, (e) => {
                processor(e).__start(() => {
                    on_error(new_error);
                }, on_error);
            });
        }
    });
};
exports.create_error_handling_context = create_error_handling_context;
const nothing = () => {
    return (0, create_command_promise_1.__create_command_promise)({
        'execute': (on_success) => {
            on_success();
        }
    });
};
exports.nothing = nothing;
// Sequencing function:
const sequence = (block) => {
    return (0, create_command_promise_1.__create_command_promise)({
        'execute': (on_success, on_error) => {
            const length = _pinternals.list_literal(block).get_number_of_elements();
            const runStep = (index) => {
                if (index >= length) {
                    on_success();
                    return;
                }
                block[index].__start(() => runStep(index + 1), on_error);
            };
            runStep(0);
        }
    });
};
exports.sequence = sequence;
const query_without_error_transformation = (staging_result, command_block) => {
    return (0, create_command_promise_1.__create_command_promise)({
        'execute': (on_success, on_error) => {
            staging_result.__extract_data((output) => {
                (0, sequence_1.__sequence)(command_block(output)).__start(() => {
                    on_success();
                }, (e) => {
                    on_error(e);
                });
            }, (e) => {
                on_error(e);
            });
        }
    });
};
exports.query_without_error_transformation = query_without_error_transformation;
const query_stacked = (staging_result, parent_data, command_block) => {
    return (0, create_command_promise_1.__create_command_promise)({
        'execute': (on_success, on_error) => {
            staging_result.__extract_data((output) => {
                (0, sequence_1.__sequence)(command_block(output, parent_data)).__start(() => {
                    on_success();
                }, (e) => {
                    on_error(e);
                });
            }, on_error);
        }
    });
};
exports.query_stacked = query_stacked;
const refine_without_error_transformation = (callback, command_block) => {
    return (0, create_command_promise_1.__create_command_promise)({
        'execute': (on_success, on_error) => {
            _pinternals.deprecated_create_refinement_context(callback).__extract_data((output) => {
                (0, sequence_1.__sequence)(command_block(output)).__start(on_success, on_error);
            }, (e) => {
                on_error(e);
            });
        }
    });
};
exports.refine_without_error_transformation = refine_without_error_transformation;
const refine_stacked = (callback, parent_data, command_block) => {
    return (0, create_command_promise_1.__create_command_promise)({
        'execute': (on_success, on_error) => {
            _pinternals.deprecated_create_refinement_context(callback).__extract_data((output) => {
                (0, sequence_1.__sequence)(command_block(output, parent_data)).__start(() => {
                    on_success();
                }, (e) => {
                    on_error(e);
                });
            }, on_error);
        }
    });
};
exports.refine_stacked = refine_stacked;
var if_;
(function (if_) {
    if_.direct = (precondition, command_block, else_command_block) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                if (precondition) {
                    (0, sequence_1.__sequence)(command_block).__start(on_success, on_error);
                }
                else {
                    if (else_command_block !== undefined) {
                        (0, sequence_1.__sequence)(else_command_block).__start(on_success, on_error);
                    }
                    else {
                        on_success();
                    }
                }
            }
        });
    };
    if_.query = (precondition, command_block, else_command_block) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                precondition.__extract_data(($) => {
                    if ($) {
                        (0, sequence_1.__sequence)(command_block).__start(on_success, on_error);
                    }
                    else {
                        if (else_command_block !== undefined) {
                            (0, sequence_1.__sequence)(else_command_block).__start(on_success, on_error);
                        }
                        else {
                            on_success();
                        }
                    }
                }, on_error);
            }
        });
    };
})(if_ || (exports.if_ = if_ = {}));
var assert;
(function (assert) {
    assert.direct = (assertion, error_if_failed) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                if (!assertion) {
                    on_error(error_if_failed);
                    return;
                }
                on_success();
            }
        });
    };
    assert.query = (assertion, error_if_failed) => {
        return (0, create_command_promise_1.__create_command_promise)({
            'execute': (on_success, on_error) => {
                assertion.__extract_data(($) => {
                    if ($) {
                        on_success();
                    }
                    else {
                        on_error(error_if_failed);
                    }
                }, ($) => {
                    on_error($);
                });
            }
        });
    };
})(assert || (exports.assert = assert = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hY3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsbUVBQW9EO0FBRXBELHFFQUFtRTtBQUNuRSx5Q0FBdUM7QUFHaEMsTUFBTSxJQUFJLEdBQUcsQ0FDaEIsS0FBWSxFQUNjLEVBQUU7SUFDNUIsT0FBTyxJQUFBLGlEQUF3QixFQUFDO1FBQzVCLFNBQVMsRUFBRSxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsRUFBRTtZQUNoQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbkIsQ0FBQztLQUNKLENBQUMsQ0FBQTtBQUNOLENBQUMsQ0FBQTtBQVJZLFFBQUEsSUFBSSxRQVFoQjtBQUlELElBQWlCLElBQUksQ0F1RXBCO0FBdkVELFdBQWlCLElBQUk7SUFFSixhQUFRLEdBQUcsQ0FDcEIsU0FBdUQsRUFDdkQsaUJBQWtFLEVBQ3hDLEVBQUU7UUFDNUIsT0FBTyxJQUFBLGlEQUF3QixFQUFDO1lBQzVCLFNBQVMsRUFBRSxDQUNQLFVBQVUsRUFDVixRQUFRLEVBQ1YsRUFBRTtnQkFFQSxNQUFNLGNBQWMsR0FBRyxXQUFXLENBQUMsZ0NBQWdDLEVBQWlCLENBQUE7Z0JBRXBGLFdBQVcsQ0FBQyxxQ0FBcUMsQ0FDN0MsQ0FBQyxPQUFPLEVBQUUsRUFBRTtvQkFDUixTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7d0JBQ2hCLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxFQUFFLENBQUE7d0JBRW5DLENBQUMsQ0FBQyxPQUFPLENBQ0wsR0FBRyxFQUFFOzRCQUNELE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFLENBQUE7d0JBQ3hDLENBQUMsRUFDRCxDQUFDLENBQUMsRUFBRSxFQUFFOzRCQUNGLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTs0QkFDN0IsT0FBTyxDQUFD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